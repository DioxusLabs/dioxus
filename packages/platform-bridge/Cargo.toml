[package]
name = "dioxus-platform-bridge"
version = "0.7.0-rc.3"
edition = "2021"
license = "MIT OR Apache-2.0"
description = "Cross-platform FFI utilities and plugin metadata for Dioxus platform APIs"
repository = "https://github.com/DioxusLabs/dioxus"
keywords = ["dioxus", "platform", "bridge", "ffi", "android", "ios", "macos", "jni", "objc"]
categories = ["gui", "platform-support"]

[features]
default = []
metadata = [
    "dep:const-serialize",
    "dep:const-serialize-macro",
    "dep:platform-bridge-macro",
]

[dependencies]
thiserror = { workspace = true }
const-serialize = { path = "../const-serialize", optional = true }
const-serialize-macro = { path = "../const-serialize-macro", optional = true }
platform-bridge-macro = { path = "../platform-bridge-macro", optional = true }

[target.'cfg(target_os = "android")'.dependencies]
jni = "0.21"
ndk-context = "0.1.1"

[target.'cfg(target_os = "ios")'.dependencies]
objc2 = "0.6.3"

[target.'cfg(target_os = "macos")'.dependencies]
objc2 = "0.6.3"

[package.metadata.docs.rs]
default-target = "x86_64-unknown-linux-gnu"
targets = ["aarch64-linux-android", "aarch64-apple-ios"]
